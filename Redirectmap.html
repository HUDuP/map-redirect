<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Redirecting...</title>
  <script>
    function decodeBase64(str) {
      try {
        return atob(str);
      } catch (e) {
        return null;
      }
    }

    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const encoded = urlParams.get("c");

      if (!encoded) {
        document.body.innerHTML = "Missing parameter.";
        return;
      }

      // Decode Base64 â†’ "lat,lon"
      const coords = decodeBase64(encoded);

      if (!coords) {
        document.body.innerHTML = "Invalid encoded value.";
        return;
      }

      // Redirect to Google Maps
      const gmapUrl = `https://www.google.com/maps/search/?api=1&query=${coords}`;
      window.location.href = gmapUrl;
    }
  </script>
</head>
<body>
  Redirecting...
</body>
</html>
